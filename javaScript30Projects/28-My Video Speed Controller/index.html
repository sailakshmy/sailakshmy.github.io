<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Video Speed Scrubber</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>

    <div class="wrapper">
        <video class="flex" width="765" height="430" src="http://clips.vorwaerts-gmbh.de/VfE_html5.mp4" loop controls>

        </video>

        <div class="speed">

            <div class="speed-bar">1x</div>

        </div>
    </div>

    <script>

        const video = document.querySelector('.flex');
        const speed = document.querySelector('.speed');
        const speedBar = document.querySelector('.speed-bar');

        speed.addEventListener('mousemove', function (e) {
            const y = e.pageY - this.offsetTop;
            const yPercent = y / this.offsetHeight;
            /*This will set the min and max values as well as the range of the
             * speed bar*/
            const min = 0.4;
            const max = 4;
            const height = Math.round(yPercent * 100) + `%`;

            speedBar.style.height = height;

            const playbackRate = yPercent * (max - min) + min;
            speedBar.textContent = playbackRate.toFixed(2) + 'x';
            //console.log(playbackRate);

            video.playbackRate = playbackRate;
            console.log(video.playbackRate);
        })

    </script>
</body>
</html>